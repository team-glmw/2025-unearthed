# pybricks blocks file:{"blocks":{"languageVersion":0,"blocks":[{"type":"blockGlobalSetup","id":"bjK,wS1MYO7aiYkFSwd{","x":151,"y":56,"deletable":false,"next":{"block":{"type":"variables_set_prime_hub","id":"ceOyDOZYfVvqnUPFEj,c","extraState":{"optionLevel":0},"fields":{"VAR":{"id":"%c3W7Qu{N0Qo+sq;3O#0"}},"next":{"block":{"type":"variables_set_motor","id":"{/8YAXQiW@lcY.sI$gS{","fields":{"VAR":{"id":"K*{RwkL=m)@yFRn8=t-G"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"a=!1lC!GK-2]28iZa^sw","fields":{"NAME":"A"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":"|c|z}Gro?MXhM%Hk67Gn","fields":{"SELECTION":"Direction.CLOCKWISE"}}}},"next":{"block":{"type":"variables_set_motor","id":"Fb6`%0TN(;+?Msjfi@#]","fields":{"VAR":{"id":"CVhcc|?+=Bskm?r8,1^8"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"=CFPr|^T:xP=MG_}t}i;","fields":{"NAME":"C"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":"5DRz_q6p6pL!8p5gCp*)","fields":{"SELECTION":"Direction.COUNTERCLOCKWISE"}}}},"next":{"block":{"type":"variables_set_motor","id":"R[U|.1i.N}qJtVd8:*fH","fields":{"VAR":{"id":"8*wxmJ%!|#Tnrx11;eD+"}},"inputs":{"PORT":{"shadow":{"type":"blockParametersPort","id":"F~QP(;/C{@|.nR,asBe=","fields":{"NAME":"E"}}},"POSITIVE_DIRECTION":{"shadow":{"type":"blockParametersDirection","id":"}$w~gX1J;YXm~^wa^O%z","fields":{"SELECTION":"Direction.COUNTERCLOCKWISE"}}}},"next":{"block":{"type":"variables_set_drive_base","id":"cRS^wS]//wV{a`?zhzqq","fields":{"VAR":{"id":"5?ZX4c#9Id#%4=7`G2H="}},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"|mVj_?N|L)y(N2/whCG~","fields":{"VAR":{"id":"K*{RwkL=m)@yFRn8=t-G","name":"left","type":"Motor"}}}},"VAR2":{"shadow":{"type":"variables_get_motor_device","id":"`kC=U|?)@bKkdwNvn6,W","fields":{"VAR":{"id":"CVhcc|?+=Bskm?r8,1^8","name":"right","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_distance","id":"fF6WAU*^sqhZ6V277xKG","fields":{"VALUE0":56}}},"VALUE1":{"shadow":{"type":"unit_distance","id":"MOEp/jU5s=^iZNS2%,?:","fields":{"VALUE0":114}}}},"next":{"block":{"type":"variables_setup_any","id":"~!6Ez%/?g,C2AaSp~xU;","fields":{"VAR":{"id":"h;Z?%UNl|0~ew/h5W,pM"}},"inputs":{"VALUE0":{"shadow":{"type":"blockMathNumber","id":"nkqZ#cCMdQ^{zFB]F8B?","fields":{"NUM":0}}}}}}}}}}}}}}}}},{"type":"blockGlobalStart","id":"3tJe|AWl0baN(wH9a$@.","x":147,"y":505,"deletable":false,"next":{"block":{"type":"blockPrint","id":"j,,T}?rBkaW$1v?olp4p","extraState":{"optionLevel":0},"inputs":{"TEXT0":{"shadow":{"type":"text","id":"!x5.0YiWya^`(y)yO5B8","fields":{"TEXT":"Hello, Pybricks!"}}}},"next":{"block":{"type":"blockVariableSetValue","id":"O6)AEu4V/~I@2[VL-Bf!","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":",pTXBU_,3KCqbFt~j7rq","fields":{"VAR":{"id":"h;Z?%UNl|0~ew/h5W,pM","name":"start_angle","type":"Any"}}}},"VALUE0":{"shadow":{"type":"blockMathNumber","id":"`hT!I[`eX+(?aKaYM+1.","fields":{"NUM":0}},"block":{"type":"blockMotorMeasure","id":"mfqNFYOU=2h}{t(Q|Son","extraState":{"optionLevel":1},"fields":{"METHOD":"MOTOR_ANGLE"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"fmDx48JB,I4oU:HICREV","fields":{"VAR":{"id":"8*wxmJ%!|#Tnrx11;eD+","name":"Lifter","type":"Motor"}}}}}}}},"next":{"block":{"type":"blockDriveBaseConfigure","id":"w|y=Hp1h*ND:Qf9mq]yt","extraState":{"optionLevel":1},"fields":{"METHOD":"DRIVEBASE_STRAIGHT_SPEED"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"fBKDuI@!D%=4iTW;IpVX","fields":{"VAR":{"id":"5?ZX4c#9Id#%4=7`G2H=","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_speed","id":"PN9k0A~(Jx3v!{Mq;21m","fields":{"VALUE0":100}}}},"next":{"block":{"type":"blockMultiTask","id":"U:g5_oCez(Yc0YU-VOgZ","extraState":{"optionLevel":0},"fields":{"METHOD":"MULTITASK_ALL"},"inputs":{"TASK0":{"block":{"type":"blockDriveBaseDrive2","id":"_Y9/Ox(;D7UF0SmZ4qNG","extraState":{"optionLevel":2},"fields":{"METHOD":"DRIVEBASE_DRIVE_STRAIGHT"},"inputs":{"VAR":{"shadow":{"type":"variables_get_drive_base_device","id":"w}FX,G$NTF6wd.#7`O+c","fields":{"VAR":{"id":"5?ZX4c#9Id#%4=7`G2H=","name":"drive base","type":"DriveBase"}}}},"ARG0":{"shadow":{"type":"unit_distance","id":"gU^P7;Y+18AY(/!eq0[m","fields":{"VALUE0":200}}},"ARG1":{"shadow":{"type":"parameters_stop_4","id":"8%o-0gd3Iw[B=d{MrH-e","fields":{"VALUE":"Stop.HOLD"}}}}}},"TASK1":{"block":{"type":"blockMotorRun","id":"yZ+9N^r{4U5xT]m`ta7O","extraState":{"optionLevel":1},"fields":{"METHOD":"MOTOR_RUN_FOR"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"4De=wgwmLE#,4M]ORP=c","fields":{"VAR":{"id":"8*wxmJ%!|#Tnrx11;eD+","name":"Lifter","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":"(@my#!5SRsJa#le;1-gJ","fields":{"VALUE0":-250}}},"ANGLE":{"shadow":{"type":"unit_angle","id":"^Oo{xjXDX04^_+SQ:YvK","fields":{"VALUE0":750}}},"THEN":{"shadow":{"type":"parameters_stop_4","id":"(@Cj92X6TR3;KW9@m%$x","fields":{"VALUE":"Stop.HOLD"}}}}}}},"next":{"block":{"type":"blockPrint","id":"T[{}AFfzDHd(VFf6DrR;","extraState":{"optionLevel":0},"inputs":{"TEXT0":{"shadow":{"type":"text","id":"[=+GZb[ke=fKxr+Eoj2q","fields":{"TEXT":"Done"}}}},"next":{"block":{"type":"blockWaitUntil","id":"{Q9o+2X8@miTXkWzk5%H","inputs":{"BOOL":{"shadow":{"type":"blockLogicTrue","id":"1BTb8DP;4qbW6M)2OW_m"},"block":{"type":"blockButtonIsPressed","id":"%hnB*Os#94Kqt9qwPN_V","inputs":{"VAR":{"shadow":{"type":"variables_get_keypad","id":"a|2a,LpR03WU?gzP%5Do","fields":{"VAR":{"id":"%c3W7Qu{N0Qo+sq;3O#0","name":"prime hub","type":"PrimeHub"}}}},"VALUE0":{"shadow":{"type":"blockParametersButton","id":"EGB(!FTl|mzef40P|fc;","fields":{"VALUE":"LEFT"}}}}}}},"next":{"block":{"type":"blockMotorRun","id":"wMF#TgKo,#HB4sCp8{PX","extraState":{"optionLevel":1},"fields":{"METHOD":"MOTOR_RUN_FOR"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":":sVL,LR9O(1z(b:V?/k}","fields":{"VAR":{"id":"8*wxmJ%!|#Tnrx11;eD+","name":"Lifter","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":"D*C~hdL:Nb0`7QZ!%e4[","fields":{"VALUE0":500}}},"ANGLE":{"shadow":{"type":"unit_angle","id":"LK~2|Dz1QlYjR8[[=u)e","fields":{"VALUE0":360}},"block":{"type":"blockMathArithmetic","id":"LXulfEGnC:qMZX(k$*m=","fields":{"OP":"MINUS"},"inputs":{"A":{"shadow":{"type":"blockMathNumber","id":"e~ZU%d(OQ+p@q/nb2;r2","fields":{"NUM":1}},"block":{"type":"blockVariableGetValue","id":"akB/1uXPO1u#:`l4Vy_b","inputs":{"VAR":{"shadow":{"type":"variables_get_any","id":"hh62.KQIO5kLP/V-R,L_","fields":{"VAR":{"id":"h;Z?%UNl|0~ew/h5W,pM","name":"start_angle","type":"Any"}}}}}}},"B":{"shadow":{"type":"blockMathNumber","id":"A`lHqn}dx?E2cSsW/)7b","fields":{"NUM":1}},"block":{"type":"blockMotorMeasure","id":"ZUlxgpyk49:CA;6+cFpR","extraState":{"optionLevel":1},"fields":{"METHOD":"MOTOR_ANGLE"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"N;].S3~jN]W=wlaYPC_M","fields":{"VAR":{"id":"8*wxmJ%!|#Tnrx11;eD+","name":"Lifter","type":"Motor"}}}}}}}}}},"THEN":{"shadow":{"type":"parameters_stop_4","id":"up-jgd#.Vpz#](/8sJM_","fields":{"VALUE":"Stop.HOLD"}}}}}}}}}}}}}}}}}}},{"type":"blockFlowWhile","id":"%VF%A.jxQVwW8K4vpxz@","x":905,"y":483,"enabled":false,"fields":{"MODE":"WHILE"},"inputs":{"BOOL":{"shadow":{"type":"blockLogicTrue","id":"j]TE!](GmX}IsR]go5n["}},"DO":{"block":{"type":"blockMultiTask","id":"T,/N?{|L{3Hha=m{lJB]","enabled":false,"extraState":{"optionLevel":0},"fields":{"METHOD":"MULTITASK_RACE"},"inputs":{"TASK0":{"block":{"type":"blockWaitUntil","id":"qT)i[c/P8XQA/4BRO{W/","inputs":{"BOOL":{"shadow":{"type":"blockLogicTrue","id":"],{QaXzF.{!B@sdR_83|"},"block":{"type":"blockButtonIsPressed","id":"0OiFn:#*Rb^]^F}`VpQH","inputs":{"VAR":{"shadow":{"type":"variables_get_keypad","id":"M^yV1z5)bH/DC|DhJ$ld","fields":{"VAR":{"id":"%c3W7Qu{N0Qo+sq;3O#0","name":"prime hub","type":"PrimeHub"}}}},"VALUE0":{"shadow":{"type":"blockParametersButton","id":"/;MPy7n@43^O1:Bm6^C[","fields":{"VALUE":"LEFT"}}}}}}},"next":{"block":{"type":"blockMotorRun","id":"915AwN`$q^Y5NV+!KG)f","extraState":{"optionLevel":1},"fields":{"METHOD":"MOTOR_RUN_FOR"},"inputs":{"VAR":{"shadow":{"type":"variables_get_motor_device","id":"U]~Davhc%ZQ)hMbzPVwm","fields":{"VAR":{"id":"8*wxmJ%!|#Tnrx11;eD+","name":"Lifter","type":"Motor"}}}},"VALUE0":{"shadow":{"type":"unit_angularVelocity","id":"{C_@YAzne4mWTPW0CcO1","fields":{"VALUE0":100}}},"ANGLE":{"shadow":{"type":"unit_angle","id":"IU2cZ*|d)x^oFhNmH[q8","fields":{"VALUE0":180}}},"THEN":{"shadow":{"type":"parameters_stop_4","id":"XB`JUKJ,^|TQg6N}nD(N","fields":{"VALUE":"Stop.HOLD"}}}}}}}},"TASK1":{"block":{"type":"blockWaitUntil","id":"xG^DiJs[7%YG?DiOZ=A{","inputs":{"BOOL":{"shadow":{"type":"blockLogicTrue","id":"],{QaXzF.{!B@sdR_83|"},"block":{"type":"blockButtonIsPressed","id":"vV#Hm)8X8`+wE_R#%v3O","inputs":{"VAR":{"shadow":{"type":"variables_get_keypad","id":"x:Byt|LX:+HdFu[uWQ1M","fields":{"VAR":{"id":"%c3W7Qu{N0Qo+sq;3O#0","name":"prime hub","type":"PrimeHub"}}}},"VALUE0":{"shadow":{"type":"blockParametersButton","id":"j9;;PpPZF0XrJqzRce~W","fields":{"VALUE":"RIGHT"}}}}}}}}}}}}}}]},"variables":[{"name":"red","id":"W+-Tg]HL^6=oml_0pUL/","type":"ColorDef"},{"name":"orange","id":"4#S%kHcdR1!;[7WPh2{@","type":"ColorDef"},{"name":"yellow","id":"1,fXCqrs{Q@-_?!/7)x4","type":"ColorDef"},{"name":"green","id":"196(uj7Yh4::%ok@[2d;","type":"ColorDef"},{"name":"cyan","id":"p%KU~-aW4(NV}f`UPj+W","type":"ColorDef"},{"name":"blue","id":"pMj#h@jUr^;Jp@lG5}5v","type":"ColorDef"},{"name":"violet","id":"##%X9,GeG)9u@Y1?-Llh","type":"ColorDef"},{"name":"magenta","id":"@u,zY5cTk6uAs;v}x%FT","type":"ColorDef"},{"name":"white","id":"6=m0O@/XZKrS:1fsh%Fj","type":"ColorDef"},{"name":"none","id":"gi;:}E{nY)u@B,rrX!j}","type":"ColorDef"},{"name":"prime hub","id":"%c3W7Qu{N0Qo+sq;3O#0","type":"PrimeHub"},{"name":"drive base","id":"5?ZX4c#9Id#%4=7`G2H=","type":"DriveBase"},{"name":"start_angle","id":"h;Z?%UNl|0~ew/h5W,pM","type":"Any"},{"name":"Lifter","id":"8*wxmJ%!|#Tnrx11;eD+","type":"Motor"},{"name":"left","id":"K*{RwkL=m)@yFRn8=t-G","type":"Motor"},{"name":"right","id":"CVhcc|?+=Bskm?r8,1^8","type":"Motor"}],"info":{"type":"pybricks","version":"1.3.2"}}
from pybricks.hubs import PrimeHub
from pybricks.parameters import Button, Direction, Port, Stop
from pybricks.pupdevices import Motor
from pybricks.robotics import DriveBase
from pybricks.tools import multitask, run_task, wait

# Set up all devices.
prime_hub = PrimeHub()
left = Motor(Port.A, Direction.CLOCKWISE)
right = Motor(Port.C, Direction.COUNTERCLOCKWISE)
Lifter = Motor(Port.E, Direction.COUNTERCLOCKWISE)
drive_base = DriveBase(left, right, 56, 114)

# Initialize variables.
start_angle = 0

async def main():
    global start_angle
    print('Hello, Pybricks!')
    start_angle = Lifter.angle()
    drive_base.settings(straight_speed=100)
    await multitask(
        drive_base.straight(200),
        Lifter.run_angle(-250, 750),
    )
    print('Done')
    while not Button.LEFT in prime_hub.buttons.pressed():
        await wait(0)
    await Lifter.run_angle(500, start_angle - Lifter.angle())


run_task(main())